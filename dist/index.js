!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VideoPlayer",[],t):"object"==typeof exports?exports.VideoPlayer=t():e.VideoPlayer=t()}(window,function(){return function(e){function t(t){for(var n,i,o=t[0],a=t[1],u=0,l=[];u<o.length;u++)i=o[u],r[i]&&l.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(s&&s(t);l.length;)l.shift()()}var n={},r={0:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,i){n=r[e]=[t,i]});t.push(n[2]=o);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+""+({1:"vendors~Vimeo",2:"vendors~Youtube"}[e]||e)+".chunk."+{1:"d3d17fce",2:"e057cbf6"}[e]+".js"}(e),a=function(t){u.onerror=u.onload=null,clearTimeout(s);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+i+": "+o+")");a.type=i,a.request=o,n[1](a)}r[e]=void 0}};var s=setTimeout(function(){a({type:"timeout",target:u})},12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var o=window.webpackJsonpVideoPlayer=window.webpackJsonpVideoPlayer||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var s=a;return i(i.s=13)}([function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports=n(11)},function(e,t,n){var r=n(8),i=n(9),o=n(10);e.exports=function(e,t){return r(e)||i(e,t)||o()}},function(e,t){function n(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function u(e){n(a,i,o,u,s,"next",e)}function s(e){n(a,i,o,u,s,"throw",e)}u(void 0)})}}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(12),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",l="object"==typeof e,c=t.regeneratorRuntime;if(c)l&&(e.exports=c);else{(c=t.regeneratorRuntime=l?e.exports:{}).wrap=k;var f="suspendedStart",y="suspendedYield",d="executing",h="completed",p={},v={};v[a]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(F([])));g&&g!==r&&i.call(g,a)&&(v=g);var P=E.prototype=b.prototype=Object.create(v);L.prototype=P.constructor=E,E.constructor=L,E[s]=L.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===L||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(P),e},c.awrap=function(e){return{__await:e}},O(S.prototype),S.prototype[u]=function(){return this},c.AsyncIterator=S,c.async=function(e,t,n,r){var i=new S(k(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},O(P),P[s]="Generator",P[a]=function(){return this},P.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=F,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return u.type="throw",u.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;D(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:F(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),p}}}function k(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=M(a,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=w(e,t,n);if("normal"===s.type){if(r=n.done?h:y,s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function b(){}function L(){}function E(){}function O(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var u=w(e[n],e,r);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(l).then(function(e){s.value=e,o(s)},function(e){return t("throw",e,o,a)})}a(u.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function M(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,M(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=w(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function F(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:I}}function I(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),o=n(0),a=n.n(o),u=n(1),s=n.n(u),l=n(6),c=n.n(l),f=function(){function e(t,n){var r=this;i()(this,e),this.id=null,this.iframeElement=null,this.iframeDoc=null,this.iframeContentWindow=null,this.isMuted=!1,this.isFullScreen=!1,this.listeners={},this.parent=null,this.id=n,this.iframeElement=document.createElement("iframe"),this.iframeElement.id=n,"string"==typeof t.domNode?0===t.domNode.indexOf("#")?(this.parent=document.querySelector(t.domNode),this.parent.appendChild(this.iframeElement)):(this.parent=document.getElementById(t.domNode),this.parent.appendChild(this.iframeElement)):(this.parent=t.domNode,this.parent.appendChild(this.iframeElement)),this.iframeDoc=this.iframeElement.contentDocument||this.iframeElement.contentWindow.document,this.iframeContentWindow=this.iframeElement.contentWindow,this.iframeDoc.open(),this.iframeDoc.write('<html><body><video width="200" controls><source src="http://distribution.bbb3d.renderfarming.net/video/mp4/bbb_sunflower_1080p_60fps_normal.mp4" type="video/mp4"><source src="http://distribution.bbb3d.renderfarming.net/video/mp4/bbb_sunflower_1080p_60fps_normal.ogg" type="video/ogg">Your browser does not support HTML5 video.</video></body></html>'),this.iframeDoc.close();var o=this.iframeDoc.getElementsByTagName("video"),a=c()(o,1)[0];this.iframeContentWindow.addEventListener("message",function(e){console.log(["iframe: ".concat(n),"received",e]);var t=JSON.parse(e.data);switch(t.command){case"play":a.play(),r.fireEvent("play");break;case"pause":a.pause(),r.fireEvent("pause");break;case"stop":a.pause(),a.currentTime=0,r.fireEvent("stop");break;case"mute":a.muted=!0,r.fireEvent("mute");break;case"unmute":a.muted=!1,r.fireEvent("unmute");break;case"enterFullScreen":a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen(),r.fireEvent("enterFullScreen");break;case"exitFullScreen":r.iframeDoc.mozCancelFullScreen?r.iframeDoc.mozCancelFullScreen():r.iframeDoc.webkitCancelFullScreen?r.iframeDoc.webkitCancelFullScreen():document.exitFullscreen(),r.fireEvent("exitFullScreen");break;case"setVolume":a.volume=t.value,r.fireEvent("setVolume");break;case"forward":a.currentTime+=t.value,r.fireEvent("forward");break;case"rewind":a.currentTime-=t.value,r.fireEvent("rewind");break;case"seek":a.currentTime=t.value,r.fireEvent("seek");break;case"destroy":r.parent.removeChild(r.iframeElement),r.fireEvent("destroy");break;default:console.log("unknown message",e.data)}}),this.on("destroy",function(){console.log("player ".concat(r.id," destroyed")),r.id=null,r.iframeDoc=null,r.iframeContentWindow=null,r.isMuted=!1,r.isFullScreen=!1,r.listeners={},r.parent=null})}return a()(e,[{key:"fireEvent",value:function(e){void 0!==this.listeners[e]&&this.listeners[e].forEach(function(e){e()})}},{key:"on",value:function(e,t){return void 0===this.listeners[e]&&(this.listeners[e]=[]),this.listeners[e].unshift(t),t}},{key:"off",value:function(e,t){if(console.log("off",e,t),this.listeners[e]&&this.listeners[e].indexOf(t)>-1){var n=this.listeners[e].indexOf(t);this.listeners[e].splice(n,1)}}},{key:"getListeners",value:function(e){return"string"==typeof e?void 0!==this.listeners[e]?this.listeners[e]:[]:this.listeners}},{key:"play",value:function(){this.iframeContentWindow.postMessage(JSON.stringify({command:"play"}),window.location.origin)}},{key:"pause",value:function(){this.iframeContentWindow.postMessage(JSON.stringify({command:"pause"}),window.location.origin)}},{key:"stop",value:function(){this.iframeContentWindow.postMessage(JSON.stringify({command:"stop"}),window.location.origin)}},{key:"mute",value:function(){this.isMuted=!0,this.iframeContentWindow.postMessage(JSON.stringify({command:"mute"}),window.location.origin)}},{key:"unmute",value:function(){this.isMuted=!1,this.iframeContentWindow.postMessage(JSON.stringify({command:"unmute"}),window.location.origin)}},{key:"toggleMute",value:function(){this.isMuted?(this.isMuted=!1,this.unmute()):(this.isMuted=!0,this.mute())}},{key:"toggleFullScreen",value:function(){this.isFullScreen?(this.isFullScreen=!1,this.iframeContentWindow.postMessage(JSON.stringify({command:"exitFullScreen"}),window.location.origin)):(this.isFullScreen=!0,this.iframeContentWindow.postMessage(JSON.stringify({command:"enterFullScreen"}),window.location.origin))}},{key:"togglePlay",value:function(){}},{key:"download",value:function(){}},{key:"setVolume",value:function(e){this.iframeContentWindow.postMessage(JSON.stringify({command:"setVolume",value:e}),window.location.origin)}},{key:"forward",value:function(e){this.iframeContentWindow.postMessage(JSON.stringify({command:"forward",value:e}),window.location.origin)}},{key:"rewind",value:function(e){this.iframeContentWindow.postMessage(JSON.stringify({command:"rewind",value:e}),window.location.origin)}},{key:"seek",value:function(e){this.iframeContentWindow.postMessage(JSON.stringify({command:"seek",value:e}),window.location.origin)}},{key:"clear",value:function(){this.iframeContentWindow.postMessage(JSON.stringify({command:"destroy"}),window.location.origin)}}]),e}(),y=n(3),d=n.n(y),h=function(e){return"string"==typeof e?document.querySelector(e):e},p=function(e){return new Promise(function(t,n){if("string"==typeof e){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");i.src=e,i.async=!0,i.type="text/javascript",i.onload=function(){i.onerror=null,i.onload=null,t(null,i)},i.onerror=function(){i.onerror=null,i.onload=null,n(new Error("Failed to load: ".concat(e)),i)},r.appendChild(i)}})},v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){if(r){var i=r.value;r.value=function(){console.warn("Provider ".concat(e.constructor.name," does not support the ").concat(n," feature"));for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i.call.apply(i,[this].concat(r))}}else t.forEach(function(t){e.prototype[t]=function(){console.warn("Provider ".concat(e.constructor.name," does not support the ").concat(t," feature"))}})}},m={DMSDK:null,FPSDK:null,VMSDK:null,YTSDK:null};m.DMSDK=null;var g,P,k,w,b,L,E,O,S,M,j,D,x,F,I={end:"video_end",playbackProgress:"timeupdate",loadProgress:"progress",seek:"seeked",setVolume:"volumechange",buffering:"waiting",firstPlay:"start"},V=["playbackProgress25","playbackProgress50","playbackProgress75"],T=function(){function e(t,n){i()(this,e),this.id=null,this.domNodeId=null,this.dmPlayer=null,this.internalListeners={},this.dmListeners={},this.ready=null,this.timeupdatePercentages={25:!1,50:!1,75:!1},this.id=n,this.ready=this.createDM(t.domNode,Object.assign({},{video:t.videoId},t.providerOptions||{}))}return a()(e,[{key:"listeners",get:function(){return this.internalListeners}},{key:"isMuted",get:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.muted})}},{key:"isFullScreen",get:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.fullscreen})}}]),a()(e,[{key:"loadSDK",value:function(){return m.DMSDK||("object"===d()(window.DM)&&"function"==typeof window.DM.player?m.DMSDK=Promise.resolve(window.DM):m.DMSDK=new Promise(function(e,t){p("https://api.dmcdn.net/all.js").then(function(){return e(window.DM)}).catch(function(e){return t(e)})})),m.DMSDK}},{key:"createDM",value:function(e,t){var n=this;return new Promise(function(r,i){n.loadSDK().then(function(i){e=h(e);var o=document.createElement("iframe");o.setAttribute("id",n.id),e.appendChild(o),n.domNodeId=o.id,n.dmPlayer=i.player(o,t),n.dmPlayer.addEventListener("apiready",function(){return r()}),n.registerDefaultListeners()}).catch(function(e){return i(e)})})}},{key:"addDmListener",value:function(e){var t=this,n=function(){return t.fireEvent(e)};return this.dmListeners[e]=n,n}},{key:"fireEvent",value:function(e){var t=this;void 0!==this.internalListeners[e]&&this.internalListeners[e].forEach(function(n){"function"==typeof n.callback&&n.callback(),n.once&&t.off(e,n.callback)})}},{key:"onPercentage",value:function(e){var t=this.dmPlayer,n=t.duration,r=t.currentTime;Math.floor(n/100*e)===Math.floor(r)?this.timeupdatePercentages[e]||(this.timeupdatePercentages[e]=!0,this.fireEvent("playbackProgress".concat(e))):this.timeupdatePercentages[e]=!1}},{key:"registerDefaultListeners",value:function(){var e=this;this.dmPlayer.addEventListener("timeupdate",function(){e.onPercentage(25),e.onPercentage(50),e.onPercentage(75)})}},{key:"clear",value:function(){var e=this;return this.ready.then(function(){document.getElementById(e.domNodeId).remove(),e.dmListeners={},e.internalListeners={}})}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.ready.then(function(){var i=I[e]||Object.values(I).find(function(t){return t===e})||e;void 0===n.internalListeners[e]&&(n.internalListeners[e]=[],V.includes(e)||n.dmPlayer.addEventListener(i,n.addDmListener(e))),n.internalListeners[e].unshift({callback:t,once:r})})}},{key:"one",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=this;return this.ready.then(function(){if(n.internalListeners[e]){var r=n.internalListeners[e].findIndex(function(e){return e.callback===t});r>-1&&n.internalListeners[e].splice(r,1),!n.internalListeners[e].length&&n.dmListeners[e]&&n.dmPlayer.removeEventListener(e,n.dmListeners[e])}})}},{key:"play",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.play()})}},{key:"pause",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.pause()})}},{key:"stop",value:function(){var e=this;return this.ready.then(function(){e.dmPlayer.pause(),e.dmPlayer.seek(0)})}},{key:"mute",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.setMuted(!0)})}},{key:"unmute",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.setMuted(!1)})}},{key:"toggleMute",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.toggleMuted()})}},{key:"togglePlay",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.paused?e.play():e.pause()})}},{key:"toggleFullScreen",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.setFullscreen(!e.dmPlayer.fullscreen)})}},{key:"setVolume",value:function(e){var t=this;return e>1&&(e/=100),this.ready.then(function(){return t.dmPlayer.setVolume(e)})}},{key:"forward",value:function(e){var t=this;return this.ready.then(function(){return t.dmPlayer.seek(t.dmPlayer.currentTime+e)})}},{key:"rewind",value:function(e){var t=this;return this.ready.then(function(){return t.dmPlayer.seek(t.dmPlayer.currentTime-e)})}},{key:"seek",value:function(e){var t=this;return this.ready.then(function(){return t.dmPlayer.seek(e)})}},{key:"download",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.watchOnSite()})}}]),e}(),N={end:"finish",playbackProgress:"progress",loadProgress:"buffer",setVolume:"volume",play:"resume"},C=["playbackProgress25","playbackProgress50","playbackProgress75"],K=function(){function e(t,n){var r=this;i()(this,e),this.id=null,this.videoUrl=null,this.domNodeId=null,this.videoId=null,this.internalListeners={},this.fpListeners={},this.ready=null,this.fpCSSUrl="https://releases.flowplayer.org/7.2.7/skin/skin.css",this.jqueryUrl="https://code.jquery.com/jquery-1.12.4.min.js",this.fpUrl="https://releases.flowplayer.org/7.2.7/flowplayer.min.js",this.fpPlayer=null,this.timeupdatePercentages={25:!1,50:!1,75:!1},this.isPlayed=!1,this.fireFirstPlay=function(){r.isPlayed||(r.fireEvent("firstPlay"),r.isPlayed=!0,r.off("resume",r.fireFirstPlay))},this.id=n,this.videoId=t.videoId,void 0!==t.url&&(this.videoUrl=t.url),this.ready=this.createFP(t.domNode,Object.assign({},{clip:{videoId:t.videoId,sources:[{type:"video/mp4",src:this.videoUrl}]}},t.providerOptions||{}))}return a()(e,[{key:"listeners",get:function(){return this.internalListeners}},{key:"isMuted",get:function(){var e=this;return this.ready.then(function(){return e.fpPlayer.muted})}},{key:"isFullScreen",get:function(){var e=this;return this.ready.then(function(){return e.fpPlayer.isFullscreen})}}]),a()(e,[{key:"loadSDK",value:function(){if(!m.FPSDK){var e=p(this.jqueryUrl),t=p(this.fpUrl),n=(r=this.fpCSSUrl,new Promise(function(e,t){if("string"==typeof r){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("link");i.href=r,i.rel="stylesheet",i.onload=function(){i.onerror=null,i.onload=null,e(null,i)},i.onerror=function(){i.onerror=null,i.onload=null,t(new Error("Failed to load: ".concat(r)),i)},n.appendChild(i)}}));"function"==typeof window.flowplayer?m.FPSDK=Promise.resolve(window.flowplayer):m.FPSDK=Promise.all([e,t,n]).then(function(){return window.flowplayer}).catch(function(e){throw e})}var r;return m.FPSDK}},{key:"createFP",value:function(e,t){var n=this;return new Promise(function(r,i){n.loadSDK().then(function(i){if("function"!=typeof i)throw new Error("Unable to laod flowplayer");var o=document.createElement("div");e=h(e),o.setAttribute("id",n.id),e.appendChild(o),n.domNodeId=o.id,n.fpPlayer=i(o,t),n.fpPlayer.on("ready",function(){return r()}),n.registerDefaultListeners()}).catch(function(e){return i(e)})})}},{key:"addFPListener",value:function(e){var t=this,n=function(){return t.fireEvent(e)};return this.fpListeners[e]=n,n}},{key:"fireEvent",value:function(e,t){var n=this;void 0!==this.internalListeners[e]&&this.internalListeners[e].forEach(function(r){"function"==typeof r.callback&&r.callback(t),r.once&&n.off(e,r.callback)})}},{key:"onPercentage",value:function(e){var t=this.fpPlayer.video,n=t.duration,r=t.time;Math.floor(n/100*e)===Math.floor(r)?this.timeupdatePercentages[e]||(this.timeupdatePercentages[e]=!0,this.fireEvent("playbackProgress".concat(e))):this.timeupdatePercentages[e]=!1}},{key:"registerDefaultListeners",value:function(){var e=this;this.fpPlayer.on("progress",function(){e.onPercentage(25),e.onPercentage(50),e.onPercentage(75)}),this.fpPlayer.on("resume",this.fireFirstPlay)}},{key:"clear",value:function(){var e=this;return this.ready.then(function(){document.getElementById(e.domNodeId).remove(),e.fpListeners={},e.internalListeners={}})}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.ready.then(function(){var i=N[e]||Object.values(N).find(function(e){return"event"===e})||e;void 0===n.internalListeners[e]&&(n.internalListeners[e]=[],C.includes(e)||n.fpPlayer.on(i,n.addFPListener(e))),n.internalListeners[e].unshift({callback:t,once:r})})}},{key:"one",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=this;return this.ready.then(function(){if(n.internalListeners[e]){var r=n.internalListeners[e].findIndex(function(e){return e.callback===t});r>-1&&n.internalListeners[e].splice(r,1),!n.internalListeners[e].length&&n.fpListeners[e]&&n.fpPlayer.off(e,n.fpListeners[e])}})}},{key:"play",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.resume()})}},{key:"pause",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.pause()})}},{key:"togglePlay",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.toggle()})}},{key:"stop",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.stop(),e.isPlayed=!1,e.fpPlayer.on("resume",e.fireFirstPlay)})}},{key:"mute",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.mute(!0)})}},{key:"unmute",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.mute(!1)})}},{key:"toggleMute",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.mute()})}},{key:"toggleFullScreen",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.fullscreen()})}},{key:"setVolume",value:function(e){var t=this;return e>1&&(e/=100),this.ready.then(function(){return t.fpPlayer.volume(e)})}},{key:"forward",value:function(e){var t=this;return this.ready.then(function(){t.fpPlayer.seek(t.fpPlayer.video.time+e)})}},{key:"rewind",value:function(e){var t=this;return this.ready.then(function(){t.fpPlayer.seek(t.fpPlayer.video.time-e)})}},{key:"seek",value:function(e){var t=this;return this.ready.then(function(){t.fpPlayer.seek(e)})}},{key:"download",value:function(){}}]),e}(),A={end:"ended",playbackProgress:"timeupdate",loadProgress:"progress",seek:"seeked",setVolume:"volumechange",buffering:"bufferstart"},W=["playbackProgress25","playbackProgress50","playbackProgress75","firstPlay"],q=v("toggleFullScreen")(g=function(){function e(t,n){var r=this;i()(this,e),this.id=null,this.vmPlayer=null,this.internalListeners={},this.vmListeners={},this.ready=null,this.isPlayed=!1,this.timeupdatePercentages={25:!1,50:!1,75:!1},this.fireFirstPlay=function(){r.isPlayed||(r.fireEvent("firstPlay"),r.isPlayed=!0,r.off("play",r.fireFirstPlay))},this.id=n,this.ready=this.createVM(t.domNode,Object.assign({id:t.videoId},t.providerOptions||{}))}return a()(e,[{key:"isMuted",get:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.getVolume()}).then(function(e){return e<=0})}},{key:"listeners",get:function(){return this.internalListeners}}]),a()(e,[{key:"loadSdk",value:function(){return m.VMSDK||("object"===d()(window.Vimeo)&&"function"==typeof window.Vimeo.Player?m.VMSDK=Promise.resolve(window.Vimeo.Player):m.VMSDK=n.e(1).then(n.bind(null,29)).then(function(e){return window.Vimeo={Player:e.default},window.Vimeo.Player})),m.VMSDK}},{key:"createVM",value:function(e,t){var n=this;return new Promise(function(r,i){n.loadSdk().then(function(i){e=h(e),n.vmPlayer=new i(e,t),n.registerDefaultListeners(),r()}).catch(function(e){return i(e)})})}},{key:"addVmListener",value:function(e){var t=this,n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.fireEvent.apply(t,[e].concat(r))};return this.vmListeners[e]=n,n}},{key:"fireEvent",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];void 0!==this.internalListeners[e]&&this.internalListeners[e].forEach(function(n){"function"==typeof n.callback&&n.callback.apply(n,r),n.once&&t.off(e,n.callback)})}},{key:"onPercentage",value:function(e,t){Math.floor(100*t.percent)===e?this.timeupdatePercentages[e]||(this.timeupdatePercentages[e]=!0,this.fireEvent("playbackProgress".concat(e),t)):this.timeupdatePercentages[e]=!1}},{key:"registerDefaultListeners",value:function(){var e=this;this.vmPlayer.on("timeupdate",function(t){e.onPercentage(25,t),e.onPercentage(50,t),e.onPercentage(75,t)}),this.vmPlayer.on("play",this.fireFirstPlay)}},{key:"clear",value:function(){var e=this;return this.ready.then(function(){return e.internalListeners={},e.vmListeners={},e.vmPlayer.destroy()})}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.ready.then(function(){var i=A[e]||Object.values(A).find(function(t){return t===e})||e;void 0===n.internalListeners[e]&&(n.internalListeners[e]=[],W.includes(e)||n.vmPlayer.on(i,n.addVmListener(e))),n.internalListeners[e].unshift({callback:t,once:r})})}},{key:"one",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=this;return this.ready.then(function(){if(n.internalListeners[e]){var r=n.internalListeners[e].findIndex(function(e){return e.callback===t});r>-1&&n.internalListeners[e].splice(r,1),!n.internalListeners[e].length&&n.vmListeners[e]&&n.vmPlayer.off(e,n.vmListeners[e])}})}},{key:"play",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.play()})}},{key:"pause",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.pause()})}},{key:"stop",value:function(){var e=this;return this.ready.then(function(){return e.isPlayed=!1,e.vmPlayer.unload()})}},{key:"mute",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.setVolume(0)})}},{key:"unmute",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.setVolume(1)})}},{key:"toggleMute",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.getVolume()}).then(function(t){return e.vmPlayer.setVolume(t>0?0:1)})}},{key:"togglePlay",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.getPaused()}).then(function(t){return t?e.play():e.pause()})}},{key:"setVolume",value:function(e){var t=this;return e>1&&(e/=100),this.ready.then(function(){return t.vmPlayer.setVolume(e)})}},{key:"forward",value:function(e){var t=this;return this.ready.then(function(){return t.vmPlayer.getCurrentTime()}).then(function(n){return t.vmPlayer.setCurrentTime(n+e)})}},{key:"rewind",value:function(e){var t=this;return this.ready.then(function(){return t.vmPlayer.getCurrentTime()}).then(function(n){return t.vmPlayer.setCurrentTime(n-e)})}},{key:"seek",value:function(e){var t=this;return this.ready.then(function(){return t.vmPlayer.setCurrentTime(e)})}},{key:"download",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.getVideoUrl()})}}]),e}())||g,J=n(5),R=n.n(J),Y=n(7),_=n.n(Y),U=n(4),z=n.n(U),B=0,G=1,H=2,Q=3,X=(P={},z()(P,B,"end"),z()(P,G,"play"),z()(P,H,"pause"),z()(P,Q,"buffering"),P),Z=v("toggleFullScreen")(k=function(){function e(t,n){var r=this;i()(this,e),this.id=null,this.ytPlayer=null,this.internalListeners={},this.ready=null,this.fakeProgressListener=null,this.timeupdatePercentages={25:!1,50:!1,75:!1},this.isPlayed=!1,this.fireFirstPlay=function(){r.isPlayed||(r.fireEvent("firstPlay"),r.isPlayed=!0,r.off("play",r.fireFirstPlay))},this.id=n,this.ready=this.createYT(t.domNode,Object.assign({},{videoId:t.videoId},t.providerOptions||{}))}return a()(e,[{key:"isMuted",get:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.isMuted()})}},{key:"listeners",get:function(){return this.internalListeners}}]),a()(e,[{key:"loadSDK",value:function(){return m.YTSDK||("object"===d()(window.AYT)&&"function"==typeof window.AYT.Player?m.YTSDK=Promise.resolve(window.AYT.Player):m.YTSDK=n.e(2).then(n.t.bind(null,30,7)).then(function(e){return window.AYT={Player:e.default},window.AYT.Player})),m.YTSDK}},{key:"createYT",value:function(e,t){var n=this;return new Promise(function(r,i){n.loadSDK().then(function(i){e=h(e),n.ytPlayer=i(e,t),n.registerDefaultListeners(),n.addProgressFakeListener(),r()}).catch(function(e){return i(e)})})}},{key:"registerDefaultListeners",value:function(){var e=this;this.ytPlayer.on("stateChange",function(t){X[t.data]&&e.fireEvent(X[t.data],t),t.data===G&&e.fireFirstPlay()})}},{key:"onPercentage",value:function(e,t){Math.floor(t.total/100*e)===Math.floor(t.progress)?this.timeupdatePercentages[e]||(this.timeupdatePercentages[e]=!0,this.fireEvent("playbackProgress".concat(e),t)):this.timeupdatePercentages[e]=!1}},{key:"addProgressFakeListener",value:function(){var e=this;this.fakeProgressListener=setInterval(_()(R.a.mark(function t(){var n,r;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ytPlayer.getDuration();case 2:return n=t.sent,t.next=5,e.ytPlayer.getCurrentTime();case 5:r=t.sent,e.onPercentage(25,{total:n,progress:r}),e.onPercentage(50,{total:n,progress:r}),e.onPercentage(75,{total:n,progress:r});case 9:case"end":return t.stop()}},t,this)})),250)}},{key:"fireEvent",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];void 0!==this.internalListeners[e]&&this.internalListeners[e].forEach(function(n){"function"==typeof n.callback&&n.callback.apply(n,r),n.once&&t.off(e,n.callback)})}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.ready.then(function(){void 0===n.internalListeners[e]&&(n.internalListeners[e]=[]),n.internalListeners[e].unshift({callback:t,once:r})})}},{key:"one",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=this;return this.ready.then(function(){if(n.internalListeners[e]){var r=n.internalListeners[e].findIndex(function(e){return e.callback===t});r>-1&&n.internalListeners[e].splice(r,1)}})}},{key:"clear",value:function(){var e=this;return this.ready.then(function(){return clearInterval(e.fakeProgressListener),e.fakeProgressListener=null,e.ytPlayer.destroy()})}},{key:"play",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.playVideo()})}},{key:"pause",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.pauseVideo()})}},{key:"stop",value:function(){var e=this;return this.ready.then(function(){return e.isPlayed=!1,e.ytPlayer.stopVideo()})}},{key:"mute",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.mute()})}},{key:"unmute",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.unMute()})}},{key:"toggleMute",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.isMuted()}).then(function(t){return t?e.ytPlayer.unMute():e.ytPlayer.mute()})}},{key:"togglePlay",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.getPlayerState()}).then(function(t){return t===G?e.ytPlayer.pauseVideo():e.ytPlayer.playVideo()})}},{key:"setVolume",value:function(e){var t=this;return this.ready.then(function(){return t.ytPlayer.setVolume(e)})}},{key:"forward",value:function(e){var t=this;return this.ready.then(function(){return t.ytPlayer.getCurrentTime()}).then(function(n){return t.ytPlayer.seekTo(n+e)})}},{key:"rewind",value:function(e){var t=this;return this.ready.then(function(){return t.ytPlayer.getCurrentTime()}).then(function(n){return t.ytPlayer.seekTo(n-e)})}},{key:"seek",value:function(e){var t=this;return this.ready.then(function(){return t.ytPlayer.seekTo(e)})}},{key:"download",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.getVideoUrl()})}}]),e}())||k,$={end:"finish",playbackProgress:"progress",firstPlay:"firstplay"},ee=function(){function e(t,n){i()(this,e),this.id=null,this.iframeElement=null,this.iframeWindow=null,this.parent=null,this.ready=null,this.internalListeners={},this.id=n,this.ready=this.createIframe(t.domNode,t.url)}return a()(e,[{key:"listeners",get:function(){return this.internalListeners}}]),a()(e,[{key:"isThisIframe",value:function(e){return this.iframeWindow===e}},{key:"createIframe",value:function(e,t){var n=this;return new Promise(function(r,i){n.iframeElement=document.createElement("iframe"),n.iframeElement.src=t,n.iframeElement.id=n.id,n.parent=h(e),n.parent.appendChild(n.iframeElement),n.iframeWindow=n.iframeElement.contentWindow,window.addEventListener("message",function(e){try{if(n.isThisIframe(e.source)){var t=JSON.parse(e.data);"ready"===t.event?r(t):n.handleIncomingMessage(t)}}catch(e){i(e)}})})}},{key:"fireEvent",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];void 0!==this.internalListeners[e]&&this.internalListeners[e].forEach(function(n){"function"==typeof n.callback&&n.callback.apply(n,r),n.once&&t.off(e,n.callback)})}},{key:"handleIncomingMessage",value:function(e){this.fireEvent(e.event,e)}},{key:"sendMessage",value:function(e){var t=this;return this.ready.then(function(){return t.iframeWindow.postMessage(JSON.stringify(e),"*")})}},{key:"clear",value:function(){var e=this;return this.ready.then(function(){document.getElementById(e.id).remove(),e.internalListeners={}})}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.ready.then(function(){var i=$[e]||Object.values($).find(function(t){return t===e})||e;void 0===n.internalListeners[i]&&(n.internalListeners[i]=[]),n.internalListeners[i].unshift({callback:t,once:r})})}},{key:"one",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=this;return this.ready.then(function(){if(n.internalListeners[e]){var r=n.internalListeners[e].findIndex(function(e){return e.callback===t});r>-1&&n.internalListeners[e].splice(r,1)}})}},{key:"play",value:function(){return this.sendMessage({method:"play"})}},{key:"pause",value:function(){return this.sendMessage({method:"pause"})}},{key:"stop",value:function(){return this.sendMessage({method:"stop"})}},{key:"mute",value:function(){return this.sendMessage({method:"mute"})}},{key:"unmute",value:function(){return this.sendMessage({method:"unmute"})}},{key:"toggleMute",value:function(){return this.sendMessage({method:"togglemute"})}},{key:"togglePlay",value:function(){return this.sendMessage({method:"toggleplay"})}},{key:"toggleFullScreen",value:function(){return this.sendMessage({method:"togglefullscreen"})}},{key:"setVolume",value:function(e){return e>1&&(e/=100),this.sendMessage({method:"setvolume",data:e})}},{key:"forward",value:function(e){return this.sendMessage({method:"forward",data:e})}},{key:"rewind",value:function(e){return this.sendMessage({method:"rewind",data:e})}},{key:"seek",value:function(e){return this.sendMessage({method:"seek",data:e})}},{key:"download",value:function(){return this.sendMessage({method:"download"})}}]),e}(),te=function(e,t){return t.some(function(t){return d()(e)===t})};function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.keys(e);return function(i,o,a){var u=a.value;return a.value=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var l=a[t];if("object"!==d()(l))throw new Error("Invalid argument passed at index ".concat(t,' for method "').concat(o,'"\n    Expecting: object\n    Received: ').concat(d()(l)));return r.forEach(function(r){var i=n[r],a=r;if(!l.hasOwnProperty(r)){if(!i)throw new Error("Invalid object passed at index ".concat(t,' for method "').concat(o,'", field "').concat(r,'" is required'));if(!l.hasOwnProperty(i))throw new Error("Invalid object passed at index ".concat(t,' for method "').concat(o,'", field "').concat(r,'" or "').concat(i,'" is required'));a=i}var u=e[r].split("|");if(!te(l[a],u))throw new Error("Invalid object passed at index ".concat(t,' for method "').concat(o,'", field "').concat(a,'" does not have the right type\n    Expecting: ').concat(e[r],"\n    Received: ").concat(d()(l[a])))}),u.call.apply(u,[this].concat(a))},a}}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r,i){var o=i.value;return i.value=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(r.length<o.length)throw new Error("Expecting ".concat(o.length," argument").concat(o.length>1?"s":"",", ").concat(r.length," passed"));var a=e.split("|");if(!te(r[t],a))throw new Error("Invalid argument passed at index ".concat(t,'"\n    Expecting: ').concat(e,"\n    Received: ").concat(d()(r[t])));return o.call.apply(o,[this].concat(r))},i}}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r,i){var o=i.value;return i.value=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(r[t]&&d()(r[t])!==e)throw new Error("Invalid argument passed at index ".concat(t,'"\n    Expecting: ').concat(e,"\n    Received: ").concat(d()(r[t])));return o.call.apply(o,[this].concat(r))},i}}var oe,ae,ue,se,le,ce,fe,ye,de,he,pe,ve=(w=ne({provider:"string",domNode:"string|object",videoId:"string|number"},0,{videoId:"url"}),b=re("string|number",1),L=re("string"),E=re("function",1),O=re("string"),S=re("function",1),M=re("number"),j=re("number"),D=re("number"),x=re("number"),F=function(){function e(t,n){return i()(this,e),this.id=null,this.player=null,this.id=n,this.createPlayer(t,n)}return a()(e,[{key:"createPlayer",value:function(e,t){switch(e.provider){case"test":this.player=new f(e,t);break;case"dailymotion":this.player=new T(e,t);break;case"flowplayer":this.player=new K(e,t);break;case"vimeo":this.player=new q(e,t);break;case"youtube":this.player=new Z(e,t);break;case"iframe":this.player=new ee(e,t);break;default:throw this.player=null,new Error("Unsupported Provider ".concat(e.provider))}return this}},{key:"on",value:function(e,t){return this.player.on(e,t)}},{key:"off",value:function(e,t){return this.player.off(e,t)}},{key:"play",value:function(){return this.player.play()}},{key:"pause",value:function(){return this.player.pause()}},{key:"stop",value:function(){return this.player.stop()}},{key:"mute",value:function(){return this.player.mute()}},{key:"unmute",value:function(){return this.player.unmute()}},{key:"toggleMute",value:function(){return this.player.toggleMute()}},{key:"toggleFullScreen",value:function(){return this.player.toggleFullScreen()}},{key:"togglePlay",value:function(){return this.player.togglePlay()}},{key:"setVolume",value:function(e){return this.player.setVolume(e)}},{key:"forward",value:function(e){return this.player.forward(e)}},{key:"rewind",value:function(e){return this.player.rewind(e)}},{key:"seek",value:function(e){return this.player.seek(e)}},{key:"clear",value:function(){this.player.clear(),this.player=null}},{key:"download",value:function(){return this.player.download()}},{key:"getListeners",value:function(){return this.player.listeners}}]),e}(),s()(F.prototype,"createPlayer",[w,b],Object.getOwnPropertyDescriptor(F.prototype,"createPlayer"),F.prototype),s()(F.prototype,"on",[L,E],Object.getOwnPropertyDescriptor(F.prototype,"on"),F.prototype),s()(F.prototype,"off",[O,S],Object.getOwnPropertyDescriptor(F.prototype,"off"),F.prototype),s()(F.prototype,"setVolume",[M],Object.getOwnPropertyDescriptor(F.prototype,"setVolume"),F.prototype),s()(F.prototype,"forward",[j],Object.getOwnPropertyDescriptor(F.prototype,"forward"),F.prototype),s()(F.prototype,"rewind",[D],Object.getOwnPropertyDescriptor(F.prototype,"rewind"),F.prototype),s()(F.prototype,"seek",[x],Object.getOwnPropertyDescriptor(F.prototype,"seek"),F.prototype),F),me=new(oe=ne({domNode:"string|object",videoId:"string|number"},0,{videoId:"url"}),ae=re("string"),ue=re("string",1),se=re("function",2),le=re("string",1),ce=re("function",2),fe=re("number",1),ye=re("number",1),de=ie("number",1),he=ie("number",1),pe=function(){function e(){i()(this,e),this.defaults={idPrefix:"video_",provider:null,forward:15,rewind:15},this.playerInstances={}}return a()(e,[{key:"generateId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.defaults.idPrefix,r="".concat(n).concat(e,"_").concat(t);return Object.keys(this.playerInstances).includes(r)?this.generateId(e,t+1):r}},{key:"createPlayer",value:function(e){var t=this,n=e.provider||this.defaults.provider;if(!n)throw new Error("cannot create player: provider or VideoPlayer.default.provider is required!");var r=Object.assign({},Object.keys(e).filter(function(e){return"events"!==e}).reduce(function(t,n){return t[n]=e[n],t},{}),{provider:n}),i=this.generateId(e.videoId||e.url),o=new ve(r,i);return this.playerInstances[i]=o,e.events&&Object.keys(e.events).length&&Object.keys(e.events).forEach(function(n){t.addEventListener(i,n,e.events[n])}),o}},{key:"getPlayer",value:function(e){if(!Object.keys(this.playerInstances).includes(e))throw new Error("Player with id ".concat(e," not found"));return this.playerInstances[e]}},{key:"getPlayers",value:function(){return this.playerInstances}},{key:"getPlayersAsArray",value:function(){return Object.values(this.playerInstances)}},{key:"addEventListener",value:function(e,t,n){return this.getPlayer(e).on(t,n)}},{key:"removeEventListener",value:function(e,t,n){return this.getPlayer(e).off(t,n)}},{key:"clear",value:function(e){var t=this.getPlayer(e);return delete this.playerInstances[e],t.clear()}},{key:"clearAll",value:function(){var e=this,t=Object.keys(this.playerInstances).map(function(t){return e.clear(t)});return Promise.all(t).then(function(){e.playerInstances={}})}},{key:"play",value:function(e){return this.getPlayer(e).play()}},{key:"pause",value:function(e){return this.getPlayer(e).pause()}},{key:"stop",value:function(e){return this.getPlayer(e).stop()}},{key:"mute",value:function(e){return this.getPlayer(e).mute()}},{key:"unmute",value:function(e){return this.getPlayer(e).unmute()}},{key:"toggleMute",value:function(e){return this.getPlayer(e).toggleMute()}},{key:"toggleFullScreen",value:function(e){return this.getPlayer(e).toggleFullScreen()}},{key:"setVolume",value:function(e,t){return this.getPlayer(e).setVolume(t)}},{key:"seek",value:function(e,t){return this.getPlayer(e).seek(t)}},{key:"forward",value:function(e,t){return this.getPlayer(e).forward(t||this.defaults.forward)}},{key:"rewind",value:function(e,t){return this.getPlayer(e).rewind(t||this.defaults.rewind)}},{key:"download",value:function(e){return this.getPlayer(e).download()}}]),e}(),s()(pe.prototype,"createPlayer",[oe],Object.getOwnPropertyDescriptor(pe.prototype,"createPlayer"),pe.prototype),s()(pe.prototype,"getPlayer",[ae],Object.getOwnPropertyDescriptor(pe.prototype,"getPlayer"),pe.prototype),s()(pe.prototype,"addEventListener",[ue,se],Object.getOwnPropertyDescriptor(pe.prototype,"addEventListener"),pe.prototype),s()(pe.prototype,"removeEventListener",[le,ce],Object.getOwnPropertyDescriptor(pe.prototype,"removeEventListener"),pe.prototype),s()(pe.prototype,"setVolume",[fe],Object.getOwnPropertyDescriptor(pe.prototype,"setVolume"),pe.prototype),s()(pe.prototype,"seek",[ye],Object.getOwnPropertyDescriptor(pe.prototype,"seek"),pe.prototype),s()(pe.prototype,"forward",[de],Object.getOwnPropertyDescriptor(pe.prototype,"forward"),pe.prototype),s()(pe.prototype,"rewind",[he],Object.getOwnPropertyDescriptor(pe.prototype,"rewind"),pe.prototype),pe);n.d(t,"Player",function(){return ve}),n.d(t,"VideoPlayer",function(){return me});t.default=me}])});
//# sourceMappingURL=index.js.map