!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VideoPlayer",[],t):"object"==typeof exports?exports.VideoPlayer=t():e.VideoPlayer=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=30)}([function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(17)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,l=[],c=!1,f=-1;function d(){c&&s&&(c=!1,s.length?l=s.concat(l):f=-1,l.length&&h())}function h(){if(!c){var e=u(d);c=!0;for(var t=l.length;t;){for(s=l,l=[];++f<t;)s&&s[f].run();f=-1,t=l.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new y(e,t)),1!==l.length||c||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(12),i=n(13),o=n(14);e.exports=function(e,t){return r(e)||i(e,t)||o()}},function(e,t,n){"use strict";(function(e,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=void 0!==e&&"[object global]"==={}.toString.call(e);function o(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function a(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.url,i=n||r;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(e=i,!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e)return"https://vimeo.com/".concat(i);if(a(i))return i.replace("http:","https:");if(n)throw new TypeError("“".concat(n,"” is not a valid video id."));throw new TypeError("“".concat(i,"” is not a vimeo.com url."))}var s=void 0!==Array.prototype.indexOf,l="undefined"!=typeof window&&void 0!==window.postMessage;if(!(i||s&&l))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var c="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};
/*!
 * weakmap-polyfill v2.0.0 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2016 polygon planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */
!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,n=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(n(this,"_id","_WeakMap"+"_"+o()+"."+o()),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function i(e,n){if(!r(e)||!t.call(e,"_id"))throw new TypeError(n+" method called on incompatible receiver "+typeof e)}function o(){return Math.random().toString().substring(2)}return n(e.prototype,"delete",function(e){if(i(this,"delete"),!r(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)}),n(e.prototype,"get",function(e){if(i(this,"get"),r(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}}),n(e.prototype,"has",function(e){if(i(this,"has"),!r(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)}),n(e.prototype,"set",function(e,t){if(i(this,"set"),!r(e))throw new TypeError("Invalid value used as weak map key");var o=e[this._id];return o&&o[0]===e?(o[1]=t,this):(n(e,this._id,[e,t]),this)}),n(e,"_polyfill",!0),e}()}function r(e){return Object(e)===e}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:c);var f,d=(function(e){
/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
var t,r,i;i=function(){var e,t,r,i=Object.prototype.toString,o=void 0!==n?function(e){return n(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(t){e=function(e,t,n){return e[t]=n,e}}function a(e,n){r.add(e,n),t||(t=o(r.drain))}function u(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function s(){for(var e=0;e<this.chain.length;e++)l(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function l(e,t,n){var r,i;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=u(r))?i.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}function c(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&a(s,t))}function f(e,t,n,r){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then(function(e){n(i,e)},r)}(i)}function d(e){this.def=e,this.triggered=!1}function h(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function y(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new h(this);this.then=function(e,n){var r={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return r.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t}),t.chain.push(r),0!==t.state&&a(s,t),r.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){(function e(t){var n,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(n=u(t))?a(function(){var i=new d(r);try{n.call(t,function(){e.apply(i,arguments)},function(){c.apply(i,arguments)})}catch(e){c.call(i,e)}}):(r.msg=t,r.state=1,r.chain.length>0&&a(s,r))}catch(e){c.call(new d(r),e)}}}).call(t,e)},function(e){c.call(t,e)})}catch(e){c.call(t,e)}}r=function(){var e,n,r;function i(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,o){r=new i(t,o),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var r=e;for(e=n=t=void 0;r;)r.fn.call(r.self),r=r.next}}}();var p=e({},"constructor",y,!1);return y.prototype=p,e(p,"__NPO__",0,!1),e(y,"resolve",function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),e(y,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),e(y,"all",function(e){var t=this;return"[object Array]"!=i.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=e.length,o=Array(i),a=0;f(t,e,function(e,t){o[e]=t,++a===i&&n(o)},r)})}),e(y,"race",function(e){var t=this;return"[object Array]"!=i.call(e)?t.reject(TypeError("Not an array")):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");f(t,e,function(e,t){n(t)},r)})}),y},(r=c)[t="Promise"]=r[t]||i(),e.exports&&(e.exports=r[t])}(f={exports:{}},f.exports),f.exports),h=new WeakMap;function y(e,t,n){var r=h.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),h.set(e.element,r)}function p(e,t){return(h.get(e.element)||{})[t]||[]}function v(e,t,n){var r=h.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],h.set(e.element,r),!0;var i=r[t].indexOf(n);return-1!==i&&r[t].splice(i,1),h.set(e.element,r),r[t]&&0===r[t].length}var m=["autopause","autoplay","background","byline","color","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","title","transparent","url","width"];function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.reduce(function(t,n){var r=e.getAttribute("data-vimeo-".concat(n));return(r||""===r)&&(t[n]=""===r?1:r),t},t)}function w(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise(function(r,i){if(!a(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var o="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e),"&domain=").concat(window.location.hostname);for(var u in t)t.hasOwnProperty(u)&&(o+="&".concat(u,"=").concat(encodeURIComponent(t[u])));var s="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;s.open("GET",o,!0),s.onload=function(){if(404!==s.status)if(403!==s.status)try{var t=JSON.parse(s.responseText);if(403===t.domain_status_code)return w(t,n),void i(new Error("“".concat(e,"” is not embeddable.")));r(t)}catch(e){i(e)}else i(new Error("“".concat(e,"” is not embeddable.")));else i(new Error("“".concat(e,"” was not found.")))},s.onerror=function(){var e=s.status?" (".concat(s.status,")"):"";i(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},s.send()})}function P(e){return"string"==typeof e&&(e=JSON.parse(e)),e}function b(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var r={method:t};void 0!==n&&(r.value=n);var i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));i>=8&&i<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}function E(e,t){var n,r=[];if((t=P(t)).event){if("error"===t.event)p(e,t.data.method).forEach(function(n){var r=new Error(t.data.message);r.name=t.data.name,n.reject(r),v(e,t.data.method,n)});r=p(e,"event:".concat(t.event)),n=t.data}else if(t.method){var i=function(e,t){var n=p(e,t);if(n.length<1)return!1;var r=n.shift();return v(e,t,r),r}(e,t.method);i&&(r.push(i),n=t.value)}r.forEach(function(t){try{if("function"==typeof t)return void t.call(e,n);t.resolve(n)}catch(e){}})}var L=new WeakMap,T=new WeakMap,M=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(/*! @vimeo/player v2.6.7 | (c) 2019 Vimeo | MIT License | https://github.com/vimeo/player.js */
function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),!function(e){return Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView)}(t))throw new TypeError("You must pass either a valid element or a valid id.");var i=t.ownerDocument.defaultView;if("IFRAME"!==t.nodeName){var o=t.querySelector("iframe");o&&(t=o)}if("IFRAME"===t.nodeName&&!a(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(L.has(t))return L.get(t);this.element=t,this.origin="*";var s=new d(function(e,o){var s=function(t){if(a(t.origin)&&n.element.contentWindow===t.source){"*"===n.origin&&(n.origin=t.origin);var r=P(t.data);if(r&&"error"===r.event&&r.data&&"ready"===r.data.method){var i=new Error(r.data.message);return i.name=r.data.name,void o(i)}var u=r&&"ready"===r.event,s=r&&"ping"===r.method;if(u||s)return n.element.setAttribute("data-ready","true"),void e();E(n,r)}};if(i.addEventListener?i.addEventListener("message",s,!1):i.attachEvent&&i.attachEvent("onmessage",s),"IFRAME"!==n.element.nodeName){var l=g(t,r);k(u(l),l,t).then(function(e){var r,i,o,a=w(e,t);return n.element=a,n._originalElement=t,r=t,i=a,o=h.get(r),h.set(i,o),h.delete(r),L.set(n.element,n),e}).catch(o)}});return T.set(this,s),L.set(this.element,this),"IFRAME"===this.element.nodeName&&b(this,"ping"),this}var t,n,i;return t=e,(n=[{key:"callMethod",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new d(function(r,i){return t.ready().then(function(){y(t,e,{resolve:r,reject:i}),b(t,e,n)}).catch(i)})}},{key:"get",value:function(e){var t=this;return new d(function(n,r){return e=o(e,"get"),t.ready().then(function(){y(t,e,{resolve:n,reject:r}),b(t,e)}).catch(r)})}},{key:"set",value:function(e,t){var n=this;return new d(function(r,i){if(e=o(e,"set"),null==t)throw new TypeError("There must be a value to set.");return n.ready().then(function(){y(n,e,{resolve:r,reject:i}),b(n,e,t)}).catch(i)})}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===p(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch(function(){}),y(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");v(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch(function(e){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=T.get(this)||new d(function(e,t){t(new Error("Unknown player. Probably unloaded."))});return d.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new d(function(t){T.delete(e),L.delete(e.element),e._originalElement&&(L.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&e.element.parentNode.removeChild(e.element),t()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}])&&r(t.prototype,n),i&&r(t,i),e}();i||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach(function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=g(e);k(u(t),t,e).then(function(t){return w(t,e)}).catch(n)}catch(e){n(e)}})}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var t=function(t){if(a(t.origin)&&t.data&&"spacechange"===t.data.event)for(var n=e.querySelectorAll("iframe"),r=0;r<n.length;r++)if(n[r].contentWindow===t.source){n[r].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}};window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent&&window.attachEvent("onmessage",t)}}()),t.a=M}).call(this,n(5),n(15).setImmediate)},function(e,t){function n(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function u(e){n(a,i,o,u,s,"next",e)}function s(e){n(a,i,o,u,s,"throw",e)}u(void 0)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=u(n(19)),o=u(n(20)),a=u(n(22));function u(e){return e&&e.__esModule?e:{default:e}}var s=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=(0,i.default)();if(s||(s=(0,o.default)(u)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"==typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=a.default.proxyEvents(u);var l=new Promise(function(n){"object"===(void 0===e?"undefined":r(e))&&e.playVideo instanceof Function?n(e):s.then(function(r){var i=new r.Player(e,t);return u.on("ready",function(){n(i)}),null})}),c=a.default.promisifyPlayer(l,n);return c.on=u.on,c.off=u.off,c},e.exports=t.default},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(16),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,u,s=1,l={},c=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){y(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){y(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){y(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(y,0,e)}:(a="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&y(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[s]=i,r(s),s++},d.clearImmediate=h}function h(e){delete l[e]}function y(e){if(c)setTimeout(y,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(5),n(7))},function(e,t,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(18),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",l="object"==typeof e,c=t.regeneratorRuntime;if(c)l&&(e.exports=c);else{(c=t.regeneratorRuntime=l?e.exports:{}).wrap=k;var f="suspendedStart",d="suspendedYield",h="executing",y="completed",p={},v={};v[a]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(D([])));g&&g!==r&&i.call(g,a)&&(v=g);var w=L.prototype=b.prototype=Object.create(v);E.prototype=w.constructor=L,L.constructor=E,L[s]=E.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,L):(e.__proto__=L,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(w),e},c.awrap=function(e){return{__await:e}},T(M.prototype),M.prototype[u]=function(){return this},c.AsyncIterator=M,c.async=function(e,t,n,r){var i=new M(k(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},T(w),w[s]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=D,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return u.type="throw",u.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:D(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),p}}}function k(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===y){if("throw"===i)throw o;return V()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=S(a,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=P(e,t,n);if("normal"===s.type){if(r=n.done?y:d,s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=y,n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function P(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function b(){}function E(){}function L(){}function T(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function M(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var u=P(e[n],e,r);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(l).then(function(e){s.value=e,o(s)},function(e){return t("throw",e,o,a)})}a(u.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function S(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,S(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=P(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:V}}function V(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";var r;
/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/r=function(){var e={},t={};return e.on=function(e,n){var r={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(r),r},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var r,i=t[e];if(i)for(r=i.length;r--;)i[r].handler(n)},e},e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(21),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return new Promise(function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,o.default)(n+"//www.youtube.com/iframe_api",function(t){t&&e.trigger("error",t)});var r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){r&&r(),t(window.YT)}}})},e.exports=t.default},function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof t&&(i=t,t={}),t=t||{},i=i||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,t.attrs),t.text&&(a.text=""+t.text),("onload"in a?n:r)(a,i),a.onload||n(a,i),o.appendChild(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(23)),i=u(n(26)),o=u(n(27)),a=u(n(28));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("youtube-player"),l={proxyEvents:function(e){var t={},n=function(n){var r="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[r]=function(t){s('event "%s"',r,t),e.trigger(n,t)}},r=!0,i=!1,a=void 0;try{for(var u,l=o.default[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){n(u.value)}}catch(e){i=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=function(r){t&&a.default[r]?n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then(function(e){var t=a.default[r],i=e.getPlayerState(),o=e[r].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(i)?new Promise(function(n){e.addEventListener("onStateChange",function r(){var i=e.getPlayerState(),o=void 0;"number"==typeof t.timeout&&(o=setTimeout(function(){e.removeEventListener("onStateChange",r),n()},t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(i)&&(e.removeEventListener("onStateChange",r),clearTimeout(o),n())})}).then(function(){return o}):o})}:n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then(function(e){return e[r].apply(e,n)})}},o=!0,u=!1,s=void 0;try{for(var l,c=i.default[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){r(l.value)}}catch(e){u=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(u)throw s}}return n}};t.default=l,e.exports=t.default},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(24)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(this,n(7))},function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var a=new Array(arguments.length),u=0;u<a.length;u++)a[u]=arguments[u];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var s=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"==typeof i){var o=a[s];n=i.call(e,o),a.splice(s,1),s--}return n}),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(25),t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,a=365.25*o;function u(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var s,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var u=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?u(s=e,o,"day")||u(s,i,"hour")||u(s,r,"minute")||u(s,n,"second")||s+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(29),o=(r=i)&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[o.default.ENDED,o.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[o.default.ENDED,o.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[o.default.ENDED,o.default.PLAYING,o.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),o=n(0),a=n.n(o),u=n(1),s=n.n(u),l=n(8),c=n.n(l),f=function(){function e(t,n){var r=this;i()(this,e),this.id=null,this.iframeElement=null,this.iframeDoc=null,this.iframeContentWindow=null,this.isMuted=!1,this.isFullScreen=!1,this.listeners={},this.parent=null,this.id=n,this.iframeElement=document.createElement("iframe"),this.iframeElement.id=n,"string"==typeof t.domNode?0===t.domNode.indexOf("#")?(this.parent=document.querySelector(t.domNode),this.parent.appendChild(this.iframeElement)):(this.parent=document.getElementById(t.domNode),this.parent.appendChild(this.iframeElement)):(this.parent=t.domNode,this.parent.appendChild(this.iframeElement)),this.iframeDoc=this.iframeElement.contentDocument||this.iframeElement.contentWindow.document,this.iframeContentWindow=this.iframeElement.contentWindow,this.iframeDoc.open(),this.iframeDoc.write('<html><body><video width="200" controls><source src="http://distribution.bbb3d.renderfarming.net/video/mp4/bbb_sunflower_1080p_60fps_normal.mp4" type="video/mp4"><source src="http://distribution.bbb3d.renderfarming.net/video/mp4/bbb_sunflower_1080p_60fps_normal.ogg" type="video/ogg">Your browser does not support HTML5 video.</video></body></html>'),this.iframeDoc.close();var o=this.iframeDoc.getElementsByTagName("video"),a=c()(o,1)[0];this.iframeContentWindow.addEventListener("message",function(e){console.log(["iframe: ".concat(n),"received",e]);var t=JSON.parse(e.data);switch(t.command){case"play":a.play(),r.fireEvent("play");break;case"pause":a.pause(),r.fireEvent("pause");break;case"stop":a.pause(),a.currentTime=0,r.fireEvent("stop");break;case"mute":a.muted=!0,r.fireEvent("mute");break;case"unmute":a.muted=!1,r.fireEvent("unmute");break;case"enterFullScreen":a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen(),r.fireEvent("enterFullScreen");break;case"exitFullScreen":r.iframeDoc.mozCancelFullScreen?r.iframeDoc.mozCancelFullScreen():r.iframeDoc.webkitCancelFullScreen?r.iframeDoc.webkitCancelFullScreen():document.exitFullscreen(),r.fireEvent("exitFullScreen");break;case"setVolume":a.volume=t.value,r.fireEvent("setVolume");break;case"forward":a.currentTime+=t.value,r.fireEvent("forward");break;case"rewind":a.currentTime-=t.value,r.fireEvent("rewind");break;case"seek":a.currentTime=t.value,r.fireEvent("seek");break;case"destroy":r.parent.removeChild(r.iframeElement),r.fireEvent("destroy");break;default:console.log("unknown message",e.data)}}),this.on("destroy",function(){console.log("player ".concat(r.id," destroyed")),r.id=null,r.iframeDoc=null,r.iframeContentWindow=null,r.isMuted=!1,r.isFullScreen=!1,r.listeners={},r.parent=null})}return a()(e,[{key:"fireEvent",value:function(e){void 0!==this.listeners[e]&&this.listeners[e].forEach(function(e){e()})}},{key:"on",value:function(e,t){return void 0===this.listeners[e]&&(this.listeners[e]=[]),this.listeners[e].unshift(t),t}},{key:"off",value:function(e,t){if(console.log("off",e,t),this.listeners[e]&&this.listeners[e].indexOf(t)>-1){var n=this.listeners[e].indexOf(t);this.listeners[e].splice(n,1)}}},{key:"getListeners",value:function(e){return"string"==typeof e?void 0!==this.listeners[e]?this.listeners[e]:[]:this.listeners}},{key:"play",value:function(){this.iframeContentWindow.postMessage(JSON.stringify({command:"play"}),window.location.origin)}},{key:"pause",value:function(){this.iframeContentWindow.postMessage(JSON.stringify({command:"pause"}),window.location.origin)}},{key:"stop",value:function(){this.iframeContentWindow.postMessage(JSON.stringify({command:"stop"}),window.location.origin)}},{key:"mute",value:function(){this.isMuted=!0,this.iframeContentWindow.postMessage(JSON.stringify({command:"mute"}),window.location.origin)}},{key:"unmute",value:function(){this.isMuted=!1,this.iframeContentWindow.postMessage(JSON.stringify({command:"unmute"}),window.location.origin)}},{key:"toggleMute",value:function(){this.isMuted?(this.isMuted=!1,this.unmute()):(this.isMuted=!0,this.mute())}},{key:"toggleFullScreen",value:function(){this.isFullScreen?(this.isFullScreen=!1,this.iframeContentWindow.postMessage(JSON.stringify({command:"exitFullScreen"}),window.location.origin)):(this.isFullScreen=!0,this.iframeContentWindow.postMessage(JSON.stringify({command:"enterFullScreen"}),window.location.origin))}},{key:"togglePlay",value:function(){}},{key:"download",value:function(){}},{key:"setVolume",value:function(e){this.iframeContentWindow.postMessage(JSON.stringify({command:"setVolume",value:e}),window.location.origin)}},{key:"forward",value:function(e){this.iframeContentWindow.postMessage(JSON.stringify({command:"forward",value:e}),window.location.origin)}},{key:"rewind",value:function(e){this.iframeContentWindow.postMessage(JSON.stringify({command:"rewind",value:e}),window.location.origin)}},{key:"seek",value:function(e){this.iframeContentWindow.postMessage(JSON.stringify({command:"seek",value:e}),window.location.origin)}},{key:"clear",value:function(){this.iframeContentWindow.postMessage(JSON.stringify({command:"destroy"}),window.location.origin)}}]),e}(),d=n(3),h=n.n(d),y=function(e){return"string"==typeof e?document.querySelector(e):e},p=function(e){return new Promise(function(t,n){if("string"==typeof e){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");i.src=e,i.async=!0,i.type="text/javascript",i.onload=function(){i.onerror=null,i.onload=null,t(null,i)},i.onerror=function(){i.onerror=null,i.onload=null,n(new Error("Failed to load: ".concat(e)),i)},r.appendChild(i)}})},v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){if(r){var i=r.value;r.value=function(){console.warn("Provider ".concat(e.constructor.name," does not support the ").concat(n," feature"));for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i.call.apply(i,[this].concat(r))}}else t.forEach(function(t){e.prototype[t]=function(){console.warn("Provider ".concat(e.constructor.name," does not support the ").concat(t," feature"))}})}},m={DMSDK:null,FPSDK:null,VMSDK:null,YTSDK:null};m.DMSDK=null;var g,w,k,P,b,E,L,T,M,S,O,x,I,D,V={end:"video_end",playbackProgress:"timeupdate",loadProgress:"progress",seek:"seeked",setVolume:"volumechange",buffering:"waiting",firstPlay:"start"},F=["playbackProgress25","playbackProgress50","playbackProgress75"],N=function(){function e(t,n){i()(this,e),this.id=null,this.domNodeId=null,this.dmPlayer=null,this.internalListeners={},this.dmListeners={},this.ready=null,this.timeupdatePercentages={25:!1,50:!1,75:!1},this.id=n,this.ready=this.createDM(t.domNode,Object.assign({},{video:t.videoId},t.providerOptions||{}))}return a()(e,[{key:"listeners",get:function(){return this.internalListeners}},{key:"isMuted",get:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.muted})}},{key:"isFullScreen",get:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.fullscreen})}}]),a()(e,[{key:"loadSDK",value:function(){return m.DMSDK||("object"===h()(window.DM)&&"function"==typeof window.DM.player?m.DMSDK=Promise.resolve(window.DM):m.DMSDK=new Promise(function(e,t){p("https://api.dmcdn.net/all.js").then(function(){return e(window.DM)}).catch(function(e){return t(e)})})),m.DMSDK}},{key:"createDM",value:function(e,t){var n=this;return new Promise(function(r,i){n.loadSDK().then(function(i){e=y(e);var o=document.createElement("iframe");o.setAttribute("id",n.id),e.innerHTML="",e.appendChild(o),n.domNodeId=o.id,n.dmPlayer=i.player(o,t),n.dmPlayer.addEventListener("apiready",function(){return r()}),n.registerDefaultListeners()}).catch(function(e){return i(e)})})}},{key:"addDmListener",value:function(e){var t=this,n=function(){return t.fireEvent(e)};return this.dmListeners[e]=n,n}},{key:"fireEvent",value:function(e){var t=this;void 0!==this.internalListeners[e]&&this.internalListeners[e].forEach(function(n){"function"==typeof n.callback&&n.callback(),n.once&&t.off(e,n.callback)})}},{key:"onPercentage",value:function(e){var t=this.dmPlayer,n=t.duration,r=t.currentTime;Math.floor(n/100*e)===Math.floor(r)?this.timeupdatePercentages[e]||(this.timeupdatePercentages[e]=!0,this.fireEvent("playbackProgress".concat(e))):this.timeupdatePercentages[e]=!1}},{key:"registerDefaultListeners",value:function(){var e=this;this.dmPlayer.addEventListener("timeupdate",function(){e.onPercentage(25),e.onPercentage(50),e.onPercentage(75)})}},{key:"clear",value:function(){var e=this;return this.ready.then(function(){document.getElementById(e.domNodeId).remove(),e.dmListeners={},e.internalListeners={}})}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.ready.then(function(){var i=V[e]||Object.values(V).find(function(t){return t===e})||e;void 0===n.internalListeners[e]&&(n.internalListeners[e]=[],F.includes(e)||n.dmPlayer.addEventListener(i,n.addDmListener(e))),n.internalListeners[e].unshift({callback:t,once:r})})}},{key:"one",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=this;return this.ready.then(function(){if(n.internalListeners[e]){var r=n.internalListeners[e].findIndex(function(e){return e.callback===t});r>-1&&n.internalListeners[e].splice(r,1),!n.internalListeners[e].length&&n.dmListeners[e]&&n.dmPlayer.removeEventListener(e,n.dmListeners[e])}})}},{key:"play",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.play()})}},{key:"pause",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.pause()})}},{key:"stop",value:function(){var e=this;return this.ready.then(function(){e.dmPlayer.pause(),e.dmPlayer.seek(0)})}},{key:"mute",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.setMuted(!0)})}},{key:"unmute",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.setMuted(!1)})}},{key:"toggleMute",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.toggleMuted()})}},{key:"togglePlay",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.paused?e.play():e.pause()})}},{key:"toggleFullScreen",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.setFullscreen(!e.dmPlayer.fullscreen)})}},{key:"setVolume",value:function(e){var t=this;return e>1&&(e/=100),this.ready.then(function(){return t.dmPlayer.setVolume(e)})}},{key:"forward",value:function(e){var t=this;return this.ready.then(function(){return t.dmPlayer.seek(t.dmPlayer.currentTime+e)})}},{key:"rewind",value:function(e){var t=this;return this.ready.then(function(){return t.dmPlayer.seek(t.dmPlayer.currentTime-e)})}},{key:"seek",value:function(e){var t=this;return this.ready.then(function(){return t.dmPlayer.seek(e)})}},{key:"download",value:function(){var e=this;return this.ready.then(function(){return e.dmPlayer.watchOnSite()})}}]),e}(),_={end:"finish",playbackProgress:"progress",loadProgress:"buffer",setVolume:"volume",play:"resume"},C=["playbackProgress25","playbackProgress50","playbackProgress75"],A=function(){function e(t,n){var r=this;i()(this,e),this.id=null,this.videoUrl=null,this.domNodeId=null,this.videoId=null,this.internalListeners={},this.fpListeners={},this.ready=null,this.fpCSSUrl="https://releases.flowplayer.org/7.2.7/skin/skin.css",this.jqueryUrl="https://code.jquery.com/jquery-1.12.4.min.js",this.fpUrl="https://releases.flowplayer.org/7.2.7/flowplayer.min.js",this.fpPlayer=null,this.timeupdatePercentages={25:!1,50:!1,75:!1},this.isPlayed=!1,this.fireFirstPlay=function(){r.isPlayed||(r.fireEvent("firstPlay"),r.isPlayed=!0,r.off("resume",r.fireFirstPlay))},this.id=n,this.videoId=t.videoId,void 0!==t.url&&(this.videoUrl=t.url),this.ready=this.createFP(t.domNode,Object.assign({},{clip:{videoId:t.videoId,sources:[{type:"video/mp4",src:this.videoUrl}]}},t.providerOptions||{}))}return a()(e,[{key:"listeners",get:function(){return this.internalListeners}},{key:"isMuted",get:function(){var e=this;return this.ready.then(function(){return e.fpPlayer.muted})}},{key:"isFullScreen",get:function(){var e=this;return this.ready.then(function(){return e.fpPlayer.isFullscreen})}}]),a()(e,[{key:"loadSDK",value:function(){if(!m.FPSDK){var e=p(this.jqueryUrl),t=p(this.fpUrl),n=(r=this.fpCSSUrl,new Promise(function(e,t){if("string"==typeof r){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("link");i.href=r,i.rel="stylesheet",i.onload=function(){i.onerror=null,i.onload=null,e(null,i)},i.onerror=function(){i.onerror=null,i.onload=null,t(new Error("Failed to load: ".concat(r)),i)},n.appendChild(i)}}));"function"==typeof window.flowplayer?m.FPSDK=Promise.resolve(window.flowplayer):m.FPSDK=Promise.all([e,t,n]).then(function(){return window.flowplayer}).catch(function(e){throw e})}var r;return m.FPSDK}},{key:"createFP",value:function(e,t){var n=this;return new Promise(function(r,i){n.loadSDK().then(function(i){if("function"!=typeof i)throw new Error("Unable to load flowplayer");e=y(e);var o=document.createElement("div");o.setAttribute("id",n.id),e.innerHTML="",e.appendChild(o),n.domNodeId=o.id,n.fpPlayer=i(o,t),n.fpPlayer.on("ready",function(){return r()}),n.registerDefaultListeners()}).catch(function(e){return i(e)})})}},{key:"addFPListener",value:function(e){var t=this,n=function(){return t.fireEvent(e)};return this.fpListeners[e]=n,n}},{key:"fireEvent",value:function(e,t){var n=this;void 0!==this.internalListeners[e]&&this.internalListeners[e].forEach(function(r){"function"==typeof r.callback&&r.callback(t),r.once&&n.off(e,r.callback)})}},{key:"onPercentage",value:function(e){var t=this.fpPlayer.video,n=t.duration,r=t.time;Math.floor(n/100*e)===Math.floor(r)?this.timeupdatePercentages[e]||(this.timeupdatePercentages[e]=!0,this.fireEvent("playbackProgress".concat(e))):this.timeupdatePercentages[e]=!1}},{key:"registerDefaultListeners",value:function(){var e=this;this.fpPlayer.on("progress",function(){e.onPercentage(25),e.onPercentage(50),e.onPercentage(75)}),this.fpPlayer.on("resume",this.fireFirstPlay)}},{key:"clear",value:function(){var e=this;return this.ready.then(function(){document.getElementById(e.domNodeId).remove(),e.fpListeners={},e.internalListeners={}})}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.ready.then(function(){var i=_[e]||Object.values(_).find(function(e){return"event"===e})||e;void 0===n.internalListeners[e]&&(n.internalListeners[e]=[],C.includes(e)||n.fpPlayer.on(i,n.addFPListener(e))),n.internalListeners[e].unshift({callback:t,once:r})})}},{key:"one",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=this;return this.ready.then(function(){if(n.internalListeners[e]){var r=n.internalListeners[e].findIndex(function(e){return e.callback===t});r>-1&&n.internalListeners[e].splice(r,1),!n.internalListeners[e].length&&n.fpListeners[e]&&n.fpPlayer.off(e,n.fpListeners[e])}})}},{key:"play",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.resume()})}},{key:"pause",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.pause()})}},{key:"togglePlay",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.toggle()})}},{key:"stop",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.stop(),e.isPlayed=!1,e.fpPlayer.on("resume",e.fireFirstPlay)})}},{key:"mute",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.mute(!0)})}},{key:"unmute",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.mute(!1)})}},{key:"toggleMute",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.mute()})}},{key:"toggleFullScreen",value:function(){var e=this;return this.ready.then(function(){e.fpPlayer.fullscreen()})}},{key:"setVolume",value:function(e){var t=this;return e>1&&(e/=100),this.ready.then(function(){return t.fpPlayer.volume(e)})}},{key:"forward",value:function(e){var t=this;return this.ready.then(function(){t.fpPlayer.seek(t.fpPlayer.video.time+e)})}},{key:"rewind",value:function(e){var t=this;return this.ready.then(function(){t.fpPlayer.seek(t.fpPlayer.video.time-e)})}},{key:"seek",value:function(e){var t=this;return this.ready.then(function(){t.fpPlayer.seek(e)})}},{key:"download",value:function(){}}]),e}(),j=n(9),R={end:"ended",playbackProgress:"timeupdate",loadProgress:"progress",seek:"seeked",setVolume:"volumechange",buffering:"bufferstart"},W=["playbackProgress25","playbackProgress50","playbackProgress75","firstPlay"],q=v("toggleFullScreen")(g=function(){function e(t,n){var r=this;i()(this,e),this.id=null,this.vmPlayer=null,this.internalListeners={},this.vmListeners={},this.ready=null,this.isPlayed=!1,this.timeupdatePercentages={25:!1,50:!1,75:!1},this.fireFirstPlay=function(){r.isPlayed||(r.fireEvent("firstPlay"),r.isPlayed=!0,r.off("play",r.fireFirstPlay))},this.id=n,this.ready=this.createVM(t.domNode,Object.assign({id:t.videoId},t.providerOptions||{}))}return a()(e,[{key:"isMuted",get:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.getVolume()}).then(function(e){return e<=0})}},{key:"listeners",get:function(){return this.internalListeners}}]),a()(e,[{key:"loadSdk",value:function(){return m.VMSDK||("object"===h()(window.Vimeo)&&"function"==typeof window.Vimeo.Player?m.VMSDK=Promise.resolve(window.Vimeo.Player):m.VMSDK=Promise.resolve(j.a).then(function(e){return window.Vimeo={Player:e},window.Vimeo.Player})),m.VMSDK}},{key:"createVM",value:function(e,t){var n=this;return new Promise(function(r,i){n.loadSdk().then(function(i){(e=y(e)).innerHTML="",n.vmPlayer=new i(e,t),n.registerDefaultListeners(),r()}).catch(function(e){return i(e)})})}},{key:"addVmListener",value:function(e){var t=this,n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.fireEvent.apply(t,[e].concat(r))};return this.vmListeners[e]=n,n}},{key:"fireEvent",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];void 0!==this.internalListeners[e]&&this.internalListeners[e].forEach(function(n){"function"==typeof n.callback&&n.callback.apply(n,r),n.once&&t.off(e,n.callback)})}},{key:"onPercentage",value:function(e,t){Math.floor(100*t.percent)===e?this.timeupdatePercentages[e]||(this.timeupdatePercentages[e]=!0,this.fireEvent("playbackProgress".concat(e),t)):this.timeupdatePercentages[e]=!1}},{key:"registerDefaultListeners",value:function(){var e=this;this.vmPlayer.on("timeupdate",function(t){e.onPercentage(25,t),e.onPercentage(50,t),e.onPercentage(75,t)}),this.vmPlayer.on("play",this.fireFirstPlay)}},{key:"clear",value:function(){var e=this;return this.ready.then(function(){return e.internalListeners={},e.vmListeners={},e.vmPlayer.destroy()})}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.ready.then(function(){var i=R[e]||Object.values(R).find(function(t){return t===e})||e;void 0===n.internalListeners[e]&&(n.internalListeners[e]=[],W.includes(e)||n.vmPlayer.on(i,n.addVmListener(e))),n.internalListeners[e].unshift({callback:t,once:r})})}},{key:"one",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=this;return this.ready.then(function(){if(n.internalListeners[e]){var r=n.internalListeners[e].findIndex(function(e){return e.callback===t});r>-1&&n.internalListeners[e].splice(r,1),!n.internalListeners[e].length&&n.vmListeners[e]&&n.vmPlayer.off(e,n.vmListeners[e])}})}},{key:"play",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.play()})}},{key:"pause",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.pause()})}},{key:"stop",value:function(){var e=this;return this.ready.then(function(){return e.isPlayed=!1,e.vmPlayer.unload()})}},{key:"mute",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.setVolume(0)})}},{key:"unmute",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.setVolume(1)})}},{key:"toggleMute",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.getVolume()}).then(function(t){return e.vmPlayer.setVolume(t>0?0:1)})}},{key:"togglePlay",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.getPaused()}).then(function(t){return t?e.play():e.pause()})}},{key:"setVolume",value:function(e){var t=this;return e>1&&(e/=100),this.ready.then(function(){return t.vmPlayer.setVolume(e)})}},{key:"forward",value:function(e){var t=this;return this.ready.then(function(){return t.vmPlayer.getCurrentTime()}).then(function(n){return t.vmPlayer.setCurrentTime(n+e)})}},{key:"rewind",value:function(e){var t=this;return this.ready.then(function(){return t.vmPlayer.getCurrentTime()}).then(function(n){return t.vmPlayer.setCurrentTime(n-e)})}},{key:"seek",value:function(e){var t=this;return this.ready.then(function(){return t.vmPlayer.setCurrentTime(e)})}},{key:"download",value:function(){var e=this;return this.ready.then(function(){return e.vmPlayer.getVideoUrl()})}}]),e}())||g,Y=n(6),K=n.n(Y),J=n(10),U=n.n(J),z=n(4),B=n.n(z),G=n(11),H=n.n(G),$=0,Q=1,X=2,Z=3,ee=(w={},B()(w,$,"end"),B()(w,Q,"play"),B()(w,X,"pause"),B()(w,Z,"buffering"),w),te=v("toggleFullScreen")(k=function(){function e(t,n){var r=this;i()(this,e),this.id=null,this.ytPlayer=null,this.domNodeId=null,this.internalListeners={},this.ready=null,this.fakeProgressListener=null,this.timeupdatePercentages={25:!1,50:!1,75:!1},this.isPlayed=!1,this.fireFirstPlay=function(){r.isPlayed||(r.fireEvent("firstPlay"),r.isPlayed=!0,r.off("play",r.fireFirstPlay))},this.id=n,this.ready=this.createYT(t.domNode,Object.assign({},{videoId:t.videoId},t.providerOptions||{}))}return a()(e,[{key:"isMuted",get:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.isMuted()})}},{key:"listeners",get:function(){return this.internalListeners}}]),a()(e,[{key:"loadSDK",value:function(){return m.YTSDK||("object"===h()(window.AYT)&&"function"==typeof window.AYT.Player?m.YTSDK=Promise.resolve(window.AYT.Player):m.YTSDK=Promise.resolve(H.a).then(function(e){return window.AYT={Player:e},window.AYT.Player})),m.YTSDK}},{key:"createYT",value:function(e,t){var n=this;return new Promise(function(r,i){n.loadSDK().then(function(i){e=y(e);var o=document.createElement("div");o.setAttribute("id",n.id),e.innerHTML="",e.appendChild(o),n.domNodeId=o.id,n.ytPlayer=i(o,t),n.registerDefaultListeners(),n.addProgressFakeListener(),r()}).catch(function(e){return i(e)})})}},{key:"registerDefaultListeners",value:function(){var e=this;this.ytPlayer.on("stateChange",function(t){ee[t.data]&&e.fireEvent(ee[t.data],t),t.data===Q&&e.fireFirstPlay()})}},{key:"onPercentage",value:function(e,t){Math.floor(t.total/100*e)===Math.floor(t.progress)?this.timeupdatePercentages[e]||(this.timeupdatePercentages[e]=!0,this.fireEvent("playbackProgress".concat(e),t)):this.timeupdatePercentages[e]=!1}},{key:"addProgressFakeListener",value:function(){var e=this;this.fakeProgressListener=setInterval(U()(K.a.mark(function t(){var n,r;return K.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ytPlayer.getDuration();case 2:return n=t.sent,t.next=5,e.ytPlayer.getCurrentTime();case 5:r=t.sent,e.onPercentage(25,{total:n,progress:r}),e.onPercentage(50,{total:n,progress:r}),e.onPercentage(75,{total:n,progress:r});case 9:case"end":return t.stop()}},t,this)})),250)}},{key:"fireEvent",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];void 0!==this.internalListeners[e]&&this.internalListeners[e].forEach(function(n){"function"==typeof n.callback&&n.callback.apply(n,r),n.once&&t.off(e,n.callback)})}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.ready.then(function(){void 0===n.internalListeners[e]&&(n.internalListeners[e]=[]),n.internalListeners[e].unshift({callback:t,once:r})})}},{key:"one",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=this;return this.ready.then(function(){if(n.internalListeners[e]){var r=n.internalListeners[e].findIndex(function(e){return e.callback===t});r>-1&&n.internalListeners[e].splice(r,1)}})}},{key:"clear",value:function(){var e=this;return this.ready.then(function(){return clearInterval(e.fakeProgressListener),e.fakeProgressListener=null,e.ytPlayer.destroy().then(function(){document.getElementById(e.domNodeId).remove()})})}},{key:"play",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.playVideo()})}},{key:"pause",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.pauseVideo()})}},{key:"stop",value:function(){var e=this;return this.ready.then(function(){return e.isPlayed=!1,e.ytPlayer.stopVideo()})}},{key:"mute",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.mute()})}},{key:"unmute",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.unMute()})}},{key:"toggleMute",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.isMuted()}).then(function(t){return t?e.ytPlayer.unMute():e.ytPlayer.mute()})}},{key:"togglePlay",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.getPlayerState()}).then(function(t){return t===Q?e.ytPlayer.pauseVideo():e.ytPlayer.playVideo()})}},{key:"setVolume",value:function(e){var t=this;return this.ready.then(function(){return t.ytPlayer.setVolume(e)})}},{key:"forward",value:function(e){var t=this;return this.ready.then(function(){return t.ytPlayer.getCurrentTime()}).then(function(n){return t.ytPlayer.seekTo(n+e)})}},{key:"rewind",value:function(e){var t=this;return this.ready.then(function(){return t.ytPlayer.getCurrentTime()}).then(function(n){return t.ytPlayer.seekTo(n-e)})}},{key:"seek",value:function(e){var t=this;return this.ready.then(function(){return t.ytPlayer.seekTo(e)})}},{key:"download",value:function(){var e=this;return this.ready.then(function(){return e.ytPlayer.getVideoUrl()})}}]),e}())||k,ne={end:"finish",playbackProgress:"progress",firstPlay:"firstplay"},re=function(){function e(t,n){i()(this,e),this.id=null,this.iframeElement=null,this.iframeWindow=null,this.parent=null,this.ready=null,this.internalListeners={},this.id=n,this.ready=this.createIframe(t.domNode,t.url)}return a()(e,[{key:"listeners",get:function(){return this.internalListeners}}]),a()(e,[{key:"isThisIframe",value:function(e){return this.iframeWindow===e}},{key:"createIframe",value:function(e,t){var n=this;return new Promise(function(r,i){n.iframeElement=document.createElement("iframe"),n.iframeElement.src=t,n.iframeElement.id=n.id,n.parent=y(e),n.parent.appendChild(n.iframeElement),n.iframeWindow=n.iframeElement.contentWindow,window.addEventListener("message",function(e){try{if(n.isThisIframe(e.source)){var t=JSON.parse(e.data);"ready"===t.event?r(t):n.handleIncomingMessage(t)}}catch(e){i(e)}})})}},{key:"fireEvent",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];void 0!==this.internalListeners[e]&&this.internalListeners[e].forEach(function(n){"function"==typeof n.callback&&n.callback.apply(n,r),n.once&&t.off(e,n.callback)})}},{key:"handleIncomingMessage",value:function(e){this.fireEvent(e.event,e)}},{key:"sendMessage",value:function(e){var t=this;return this.ready.then(function(){return t.iframeWindow.postMessage(JSON.stringify(e),"*")})}},{key:"clear",value:function(){var e=this;return this.ready.then(function(){document.getElementById(e.id).remove(),e.internalListeners={}})}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.ready.then(function(){var i=ne[e]||Object.values(ne).find(function(t){return t===e})||e;void 0===n.internalListeners[i]&&(n.internalListeners[i]=[]),n.internalListeners[i].unshift({callback:t,once:r})})}},{key:"one",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=this;return this.ready.then(function(){if(n.internalListeners[e]){var r=n.internalListeners[e].findIndex(function(e){return e.callback===t});r>-1&&n.internalListeners[e].splice(r,1)}})}},{key:"play",value:function(){return this.sendMessage({method:"play"})}},{key:"pause",value:function(){return this.sendMessage({method:"pause"})}},{key:"stop",value:function(){return this.sendMessage({method:"stop"})}},{key:"mute",value:function(){return this.sendMessage({method:"mute"})}},{key:"unmute",value:function(){return this.sendMessage({method:"unmute"})}},{key:"toggleMute",value:function(){return this.sendMessage({method:"togglemute"})}},{key:"togglePlay",value:function(){return this.sendMessage({method:"toggleplay"})}},{key:"toggleFullScreen",value:function(){return this.sendMessage({method:"togglefullscreen"})}},{key:"setVolume",value:function(e){return e>1&&(e/=100),this.sendMessage({method:"setvolume",data:e})}},{key:"forward",value:function(e){return this.sendMessage({method:"forward",data:e})}},{key:"rewind",value:function(e){return this.sendMessage({method:"rewind",data:e})}},{key:"seek",value:function(e){return this.sendMessage({method:"seek",data:e})}},{key:"download",value:function(){return this.sendMessage({method:"download"})}}]),e}(),ie=function(e,t){return t.some(function(t){return h()(e)===t})};function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.keys(e);return function(i,o,a){var u=a.value;return a.value=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var l=a[t];if("object"!==h()(l))throw new Error("Invalid argument passed at index ".concat(t,' for method "').concat(o,'"\n    Expecting: object\n    Received: ').concat(h()(l)));return r.forEach(function(r){var i=n[r],a=r;if(!l.hasOwnProperty(r)){if(!i)throw new Error("Invalid object passed at index ".concat(t,' for method "').concat(o,'", field "').concat(r,'" is required'));if(!l.hasOwnProperty(i))throw new Error("Invalid object passed at index ".concat(t,' for method "').concat(o,'", field "').concat(r,'" or "').concat(i,'" is required'));a=i}var u=e[r].split("|");if(!ie(l[a],u))throw new Error("Invalid object passed at index ".concat(t,' for method "').concat(o,'", field "').concat(a,'" does not have the right type\n    Expecting: ').concat(e[r],"\n    Received: ").concat(h()(l[a])))}),u.call.apply(u,[this].concat(a))},a}}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r,i){var o=i.value;return i.value=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(r.length<o.length)throw new Error("Expecting ".concat(o.length," argument").concat(o.length>1?"s":"",", ").concat(r.length," passed"));var a=e.split("|");if(!ie(r[t],a))throw new Error("Invalid argument passed at index ".concat(t,'"\n    Expecting: ').concat(e,"\n    Received: ").concat(h()(r[t])));return o.call.apply(o,[this].concat(r))},i}}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r,i){var o=i.value;return i.value=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(r[t]&&h()(r[t])!==e)throw new Error("Invalid argument passed at index ".concat(t,'"\n    Expecting: ').concat(e,"\n    Received: ").concat(h()(r[t])));return o.call.apply(o,[this].concat(r))},i}}var se,le,ce,fe,de,he,ye,pe,ve,me,ge,we=(P=oe({provider:"string",domNode:"string|object",videoId:"string|number"},0,{videoId:"url"}),b=ae("string|number",1),E=ae("string"),L=ae("function",1),T=ae("string"),M=ae("function",1),S=ae("number"),O=ae("number"),x=ae("number"),I=ae("number"),D=function(){function e(t,n){return i()(this,e),this.id=null,this.player=null,this.id=n,this.createPlayer(t,n)}return a()(e,[{key:"createPlayer",value:function(e,t){switch(e.provider){case"test":this.player=new f(e,t);break;case"dailymotion":this.player=new N(e,t);break;case"flowplayer":this.player=new A(e,t);break;case"vimeo":this.player=new q(e,t);break;case"youtube":this.player=new te(e,t);break;case"iframe":this.player=new re(e,t);break;default:throw this.player=null,new Error("Unsupported Provider ".concat(e.provider))}return this}},{key:"on",value:function(e,t){return this.player.on(e,t)}},{key:"off",value:function(e,t){return this.player.off(e,t)}},{key:"play",value:function(){return this.player.play()}},{key:"pause",value:function(){return this.player.pause()}},{key:"stop",value:function(){return this.player.stop()}},{key:"mute",value:function(){return this.player.mute()}},{key:"unmute",value:function(){return this.player.unmute()}},{key:"toggleMute",value:function(){return this.player.toggleMute()}},{key:"toggleFullScreen",value:function(){return this.player.toggleFullScreen()}},{key:"togglePlay",value:function(){return this.player.togglePlay()}},{key:"setVolume",value:function(e){return this.player.setVolume(e)}},{key:"forward",value:function(e){return this.player.forward(e)}},{key:"rewind",value:function(e){return this.player.rewind(e)}},{key:"seek",value:function(e){return this.player.seek(e)}},{key:"clear",value:function(){this.player.clear(),this.player=null}},{key:"download",value:function(){return this.player.download()}},{key:"getListeners",value:function(){return this.player.listeners}}]),e}(),s()(D.prototype,"createPlayer",[P,b],Object.getOwnPropertyDescriptor(D.prototype,"createPlayer"),D.prototype),s()(D.prototype,"on",[E,L],Object.getOwnPropertyDescriptor(D.prototype,"on"),D.prototype),s()(D.prototype,"off",[T,M],Object.getOwnPropertyDescriptor(D.prototype,"off"),D.prototype),s()(D.prototype,"setVolume",[S],Object.getOwnPropertyDescriptor(D.prototype,"setVolume"),D.prototype),s()(D.prototype,"forward",[O],Object.getOwnPropertyDescriptor(D.prototype,"forward"),D.prototype),s()(D.prototype,"rewind",[x],Object.getOwnPropertyDescriptor(D.prototype,"rewind"),D.prototype),s()(D.prototype,"seek",[I],Object.getOwnPropertyDescriptor(D.prototype,"seek"),D.prototype),D),ke=new(se=oe({domNode:"string|object",videoId:"string|number"},0,{videoId:"url"}),le=ae("string"),ce=ae("string",1),fe=ae("function",2),de=ae("string",1),he=ae("function",2),ye=ae("number",1),pe=ae("number",1),ve=ue("number",1),me=ue("number",1),ge=function(){function e(){i()(this,e),this.defaults={idPrefix:"video_",provider:null,forward:15,rewind:15},this.playerInstances={}}return a()(e,[{key:"generateId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.defaults.idPrefix,r="".concat(n).concat(e,"_").concat(t);return Object.keys(this.playerInstances).includes(r)?this.generateId(e,t+1):r}},{key:"createPlayer",value:function(e){var t=this,n=e.provider||this.defaults.provider;if(!n)throw new Error("cannot create player: provider or VideoPlayer.default.provider is required!");var r=Object.assign({},Object.keys(e).filter(function(e){return"events"!==e}).reduce(function(t,n){return t[n]=e[n],t},{}),{provider:n}),i=this.generateId(e.videoId||e.url),o=new we(r,i);return this.playerInstances[i]=o,e.events&&Object.keys(e.events).length&&Object.keys(e.events).forEach(function(n){t.addEventListener(i,n,e.events[n])}),o}},{key:"getPlayer",value:function(e){if(!Object.keys(this.playerInstances).includes(e))throw new Error("Player with id ".concat(e," not found"));return this.playerInstances[e]}},{key:"getPlayers",value:function(){return this.playerInstances}},{key:"getPlayersAsArray",value:function(){return Object.values(this.playerInstances)}},{key:"addEventListener",value:function(e,t,n){return this.getPlayer(e).on(t,n)}},{key:"removeEventListener",value:function(e,t,n){return this.getPlayer(e).off(t,n)}},{key:"clear",value:function(e){var t=this.getPlayer(e);return delete this.playerInstances[e],t.clear()}},{key:"clearAll",value:function(){var e=this,t=Object.keys(this.playerInstances).map(function(t){return e.clear(t)});return Promise.all(t).then(function(){e.playerInstances={}})}},{key:"play",value:function(e){return this.getPlayer(e).play()}},{key:"pause",value:function(e){return this.getPlayer(e).pause()}},{key:"stop",value:function(e){return this.getPlayer(e).stop()}},{key:"mute",value:function(e){return this.getPlayer(e).mute()}},{key:"unmute",value:function(e){return this.getPlayer(e).unmute()}},{key:"toggleMute",value:function(e){return this.getPlayer(e).toggleMute()}},{key:"toggleFullScreen",value:function(e){return this.getPlayer(e).toggleFullScreen()}},{key:"setVolume",value:function(e,t){return this.getPlayer(e).setVolume(t)}},{key:"seek",value:function(e,t){return this.getPlayer(e).seek(t)}},{key:"forward",value:function(e,t){return this.getPlayer(e).forward(t||this.defaults.forward)}},{key:"rewind",value:function(e,t){return this.getPlayer(e).rewind(t||this.defaults.rewind)}},{key:"download",value:function(e){return this.getPlayer(e).download()}}]),e}(),s()(ge.prototype,"createPlayer",[se],Object.getOwnPropertyDescriptor(ge.prototype,"createPlayer"),ge.prototype),s()(ge.prototype,"getPlayer",[le],Object.getOwnPropertyDescriptor(ge.prototype,"getPlayer"),ge.prototype),s()(ge.prototype,"addEventListener",[ce,fe],Object.getOwnPropertyDescriptor(ge.prototype,"addEventListener"),ge.prototype),s()(ge.prototype,"removeEventListener",[de,he],Object.getOwnPropertyDescriptor(ge.prototype,"removeEventListener"),ge.prototype),s()(ge.prototype,"setVolume",[ye],Object.getOwnPropertyDescriptor(ge.prototype,"setVolume"),ge.prototype),s()(ge.prototype,"seek",[pe],Object.getOwnPropertyDescriptor(ge.prototype,"seek"),ge.prototype),s()(ge.prototype,"forward",[ve],Object.getOwnPropertyDescriptor(ge.prototype,"forward"),ge.prototype),s()(ge.prototype,"rewind",[me],Object.getOwnPropertyDescriptor(ge.prototype,"rewind"),ge.prototype),ge);n.d(t,"Player",function(){return we}),n.d(t,"VideoPlayer",function(){return ke});t.default=ke}])});
//# sourceMappingURL=index.js.map